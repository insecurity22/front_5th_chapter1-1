# SPA 만들기

## 과제 체크포인트

### 배포 링크

- [https://insecurity22.github.io/front_5th_chapter1-1/](https://insecurity22.github.io/front_5th_chapter1-1/)

### 기본과제

#### 1) 라우팅 구현:

- [x] History API를 사용하여 SPA 라우터 구현
  - [x] '/' (홈 페이지)
  - [x] '/login' (로그인 페이지)
  - [x] '/profile' (프로필 페이지)
- [x] 각 라우트에 해당하는 컴포넌트 렌더링 함수 작성
- [x] 네비게이션 이벤트 처리 (링크 클릭 시 페이지 전환)
- [x] 주소가 변경되어도 새로고침이 발생하지 않아야 한다.

#### 2) 사용자 관리 기능:

- [x] LocalStorage를 사용한 간단한 사용자 데이터 관리
  - [x] 사용자 정보 저장 (이름, 간단한 소개)
  - [x] 로그인 상태 관리 (로그인/로그아웃 토글)
- [x] 로그인 폼 구현
  - [x] 사용자 이름 입력 및 검증
  - [x] 로그인 버튼 클릭 시 LocalStorage에 사용자 정보 저장
- [x] 로그아웃 기능 구현
  - [x] 로그아웃 버튼 클릭 시 LocalStorage에서 사용자 정보 제거

#### 3) 프로필 페이지 구현:

- [x] 현재 로그인한 사용자의 정보 표시
  - [x] 사용자 이름
  - [x] 간단한 소개
- [x] 프로필 수정 기능
  - [x] 사용자 소개 텍스트 수정 가능
  - [x] 수정된 정보 LocalStorage에 저장

#### 4) 컴포넌트 기반 구조 설계:

- [x] 재사용 가능한 컴포넌트 작성
  - [x] Header 컴포넌트
  - [x] Footer 컴포넌트
- [x] 페이지별 컴포넌트 작성
  - [x] HomePage 컴포넌트
  - [x] ProfilePage 컴포넌트
  - [x] NotFoundPage 컴포넌트

#### 5) 상태 관리 초기 구현:

- [ ] 간단한 상태 관리 시스템 설계
  - [ ] 전역 상태 객체 생성 (예: 현재 로그인한 사용자 정보)
- [ ] 상태 변경 함수 구현
  - [ ] 상태 업데이트 시 관련 컴포넌트 리렌더링

#### 6) 이벤트 처리 및 DOM 조작:

- [x] 사용자 입력 처리 (로그인 폼, 프로필 수정 등)
- [x] 동적 컨텐츠 렌더링 (사용자 정보 표시, 페이지 전환 등)

#### 7) 라우팅 예외 처리:

- [x] 잘못된 라우트 접근 시 404 페이지 표시

### 심화과제

#### 1) 해시 라우터 구현

- [x] location.hash를 이용하여 SPA 라우터 구현
  - [x] '/#/' (홈 페이지)
  - [x] '/#/login' (로그인 페이지)
  - [x] '/#/profile' (프로필 페이지)

#### 2) 라우트 가드 구현

- [x] 로그인 상태에 따른 접근 제어
- [ X 비로그인 사용자의 특정 페이지 접근 시 로그인 페이지로 리다이렉션

#### 3) 이벤트 위임

- [x] 이벤트 위임 방식으로 이벤트를 관리하고 있다.

## 과제 셀프회고

#### [과제에서 구현한 내용과 배운 개념을 순서대로 회고]

1. 이벤트 위임 & 이벤트 바인딩

- 발제 때 이벤트 바인딩으로 작성한 코드를 알려주셨었는데요!
- 이 부분은 동적으로 추가된 요소에도 이벤트가 바인딩 되는 형태가 되는 것이 좋을 것 같다
- 고로 이벤트 위임하는 방식이 나을 것 같다는 판단이 들어 해당 형태로 작성을 했는데 심화 과제에서 나와 뿌듯했습니다!

2. 라우팅 구현

- 브라우저 라우터로 SPA 구현
- 설정한 라우터대로 해당되는 컴포넌트만 렌더링되도록, 즉 새로고침하지 않고 렌더링
- 오류 페이지 처리

3. 컴포넌트 기반 구조 설계

- 프로젝트 폴더 구조 참고
- 컴포넌트 분리

4. 사용자 관리 기능

- LocalStorage로 사용자 관리(로그인 & 로그아웃)
- 폼 & 이벤트 관리로 사용자 정보 수정

5. Test 코드 & CI & CD

- 오류 해결 (Test 코드 profile page url x, e2e test error)
- 오류 해결 (CI & CD packageManager 제거 등)

6. 리팩토링

- Router 관심사 분리(utils/router.js 파일로 역할 분리)
- 라우팅 가드 추가(로그인 상태에 따른 접근 제어, 비로그인 사용자의 특정 페이지 접근 시 로그인 페이지로 리다이렉션)
- 해시 라우터 추가

7. 배포

- Github Pages 설정을 위한 준비(package.json homepage 옵션 & deploy 명령어(bulid 후 배포) 추가)
- Github Pages 설정(레포지토리 & 브랜치(gh-pages) 등)
- base URL 적용
- 해시 라우터로 SPA 새로고침 이슈 해결

---

#### [개인 회고]

ps. 제가 이번 주에 오사카 여행을 갔다 왔는데요..🥺
여행 가기 전날, 그리고 목요일에 도착하자마자
이틀밤을 새워서 작업을 하긴 했지만, 시간이 많이 부족했습니다..

"시간 관계상 우선 배포만이라도 해야겠다" 라고 올렸지만
저는 1주차 과제에 많은 시간을 투자하지 못한 것이 정말 너무 아쉬웠습니다 😭
그런 아쉬움 끝에 주말 내내 시간 투자를 해 심화과제까지 완료했습니다.

사실 심화과제를 해냈다! 보다는 정말로 개념에 대해 깊게 이해하고 싶었어요.
그래서 제가 이해한 것들을 회고도 할겸 순서대로 나열해보았습니다.
제 올해 목표는 "기본기를 탄탄하게 하자!"와 "커뮤니케이션"이기 때문입니다... ☺️

제가 정말 재미있고 기억나도록 공부했던 것들은

1. 이벤트 위임 & 이벤트 바인딩 개념을 이해하고 코드를 작성한 것.

- 발제 때 이벤트 바인딩으로 작성한 코드를 알려주셨었는데요!
- 기본 과제를 할 때 동적으로 추가된 요소에도 이벤트가 바인딩 되는 게 좋겠다!
- 고로 이벤트 위임하는 방식이 나을 것 같다는 판단이 들어 해당 형태로 작성을 했는데 심화과제에서 나와서 그걸 의도하신 것 같았고 캐치한 것 같아서 너무 좋았습니다!

2. React가 편히 제공해주는 것만 사용했던 SPA를 직접 구현해본 것.

- 이 때 콘솔을 보며 새로고침 되는지에 대한 여부도 확인했었는데 그게 너무 재밌었습니다 ✨

3. 라우터의 관심사 분리로 인한 리팩토링 그리고 라우팅 가드

- React 안에서도 라우팅과, 라우팅 가드를 작성해봤었는데 js로 하니까 새롭기도하고
- 메소드식으로 역할을 분리해서 하니까 코드가 깔끔해져서 기분이 너무 좋았어요 ✨

4. 배포

- 4-1. 일단 배포하는데서 삽질을 정말 많이 했는데요 🥲
  Github Pages 설정은 간단해 배포하는데 어려움은 없었지만..

- 4-2. 배포 이후 404 경로 문제가 발생했고 vite 설정 파일에 baseURL 적용 & 홈, 프로필 등 관련 탭 이동하는 주소에 baseURL을 추가하여 적용해주니 문제가 해결되었습니다.

- 4-3. 새로고침 시에도 마찬가지로 404 오류가 뜨는 것을 확인할 수 있었는데요. 이것이 SPA 문제로 인한 문제라는 것을 알았고, 이후 저는 브라우저 라우터와 해시 라우터의 의미를 명확하게 알았습니다. 이 두 라우터를 이용해 SPA 문제를 해결했습니다.

- 4-3-1. 404.html에서 index.html로 리다이렉트하여 pathname을 해시 라우터로 전달

- 4-3-2. index.html에서는 해시 라우터를 받아 브라우저 라우터로 변경

이 두 라우터를 이용해 SPA 문제를 해결하였습니다.. 💓

이렇게 해결하는 것이 맞는지는 모르겠지만 이 과제를 내주신 목적이 이 이유일거라 생각하며 구현했습니다..!

---

### 기술적 성장 & 코드 품질 & 학습 효과 분석

1. 핵심 개념에 대한 깊이 있는 이해와 적용

- 이벤트 위임 vs 이벤트 바인딩 개념을 비교하고, 동적으로 생성되는 요소를 고려한 이벤트 위임 방식을 선택함으로써 실무에서도 활용 가능한 설계 사고를 기를 수 있었습니다.

- 단순히 과제를 구현하는 데 그치지 않고, 심화 과제에서 해당 방식이 등장했을 때 선택의 이유를 스스로 납득하며 자신감을 얻는 경험을 했습니다.

2. SPA 작동 원리의 근본적 이해

- React 등 프레임워크에 숨겨진 복잡한 로직(SPA)를 직접 구현하며, 라우팅의 개념과 작동 방식을 구조적으로 파악하게 되었습니다.

3. 컴포넌트 기반 설계와 관심사 분리

- 단순 분할이 아닌 역할에 따른 설계 분리(Router, Guard, Utils 등)를 직접 구현하면서 코드 유지보수성과 확장성에 대한 경험을 쌓았습니다.
- JS로 직접 분리된 구조를 만들면서, React의 동작 방식을 보다 명확히 이해하게 됐습니다.

4. 배포 과정에서의 문제 해결 능력 강화

- GitHub Pages, base URL 설정, SPA 404 이슈 등을 원인 분석하고 해결했습니다.
- 특히 해시 라우터와 브라우저 라우터를 함께 적용한 해결책은 React의 라우팅 동작 원리에 대한 깊이 있는 이해를 바탕으로 한 시도였다고 생각했습니다.
- 또한 React 등 프레임워크의 라우팅의 개념과 작동 방식을 구조적으로 파악하게 된 시간이었습니다.

<!--
### 코드 품질

### 학습 효과 분석

### 과제 피드백
-->

<!--
배포 링크를 적어주세요
예시: https://<username>.github.io/front-5th-chapter1-1/

배포가 완료되지 않으면 과제를 통과할 수 없습니다.
배포 후에 정상 작동하는지 확인해주세요.
-->

<!-- 과제에 대한 회고를 작성해주세요 -->

<!-- 기술적 성장

예시
- 새로 학습한 개념
- 기존 지식의 재발견/심화
- 구현 과정에서의 기술적 도전과 해결

-->

<!-- 코드 품질

예시
- 특히 만족스러운 구현
- 리팩토링이 필요한 부분
- 코드 설계 관련 고민과 결정

-->

<!-- 학습 효과 분석

예시
- 가장 큰 배움이 있었던 부분
- 추가 학습이 필요한 영역
- 실무 적용 가능성

-->

<!-- 과제 피드백

예시
- 과제에서 모호하거나 애매했던 부분
- 과제에서 좋았던 부분

피드백 받고 싶은 내용을 구체적으로 남겨주세요
모호한 요청은 피드백을 남기기 어렵습니다.

참고링크: https://chatgpt.com/share/675b6129-515c-8001-ba72-39d0fa4c7b62

모호한 질문의 예시)
- 무엇을 질문해야 할지 몰라서 코치님이 보시기에 고쳐야할것들 전반적으로 피드백 부탁드립니다.
- 코드 스타일에 대한 피드백 부탁드립니다.
- 코드 구조에 대한 피드백 부탁드립니다.
- 개념적인 오류에 대한 피드백 부탁드립니다.
- 추가 구현이 필요한 부분에 대한 피드백 부탁드립니다.

구체적인 질문의 예시)
- 파일A의 함수B와 그 안의 변수명을 보면 직관성이 떨어지는 것 같습니다. 함수와 변수 이름을 더 명확하게 지을 방법에 대해 조언해 주실 수 있나요?
- 현재 파일 단위로 코드를 분리했지만, 이번 주차 발제를 기준으로 봤을 때 모듈화나 계층화에서 부족함이 있는 것 같습니다. 특히 A와 B 부분에서 모듈화를 더 진행할지 그대로 둘지 고민하였습니다. (...구체적인 고민 사항 적기...). 코치님의 의견이 궁금합니다.
- 옵저버 패턴을 사용해 상태 관리 로직을 구현해 보려 했습니다. 제가 구현한 코드가 옵저버 패턴에 맞게 잘 구성되었는지 검토해 주시고, 보완할 부분을 제안해 주실 수 있을까요?
- 컴포넌트 A를 테스트 할 때 B와의 의존성 때문에 테스트 코드를 작성하려다 포기했습니다. A와 B의 의존성을 낮추고 테스트 가능성을 높이는 구조 개선 방안이 있을까요?

-->
